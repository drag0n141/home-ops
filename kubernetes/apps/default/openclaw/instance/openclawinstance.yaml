apiVersion: openclaw.rocks/v1alpha1
kind: OpenClawInstance
metadata:
  name: &app openclaw-instance
spec:
  envFrom:
    - secretRef:
        name: openclaw-secret
  config:
    raw:
      gateway:
        controlUi:
          allowedOrigins:
            - "https://openclaw.${SECRET_DOMAIN_INTERNAL}"
        trustedProxies:
          - "127.0.0.1"
          - "10.42.0.0/16"
      agent:
        model: "openai/gpt-5.1-codex"
  chromium:
    enabled: true
    image:
      repository: ghcr.io/browserless/chrome
      tag: v2.42.0@sha256:af7b7069d2a00de431b0c0f5e51946bed3615b90cc4e35dc72d3f1b81b907bdf
    resources:
      requests:
        cpu: 10m
        memory: 250Mi
      limits:
        memory: 2000Mi
  networking:
    ingress:
      enabled: false
  security:
    networkPolicy:
      enabled: false
  storage:
    persistence:
      enabled: true
      existingClaim: *app
