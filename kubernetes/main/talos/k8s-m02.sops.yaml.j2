{
	"data": "version: v1alpha1\ndebug: false\npersist: true\nmachine:\n    type: controlplane\n    token: gdz5rb.i9p2wwxnes73m8s7\n    ca:\n        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJtYkphNmVGU2hYU2I1M2xKR2F6S3lNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5EQTBNakV4TVRBeE1UVmFGdzB6TkRBME1Ua3hNVEF4TVRWYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBUXhSZmQya3lBT0lTS1I4OWVNNk9LMm1CNzF0OWc0SDZKdForCkNjVDVxQ1NqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVTjFlbENnUHhRMGpFU2FnSgpSbVIwUzNLVzUvWXdCUVlESzJWd0EwRUFkOXFrUE1tSEkyMHdURDVNOFdlQmsyTkJsWk0yL0pMWGtxMkJZSm5NCkZ5bEtVeFpqMG5YUGRPakFpZFNNY3ZZYlM0aDJiczU1Rm5kUWxPenJCUUJYQ0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==\n        key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJSml5WUYzU2xyenRXU3orZGlCU2hLZ0RkK09GaWFwVzZGR2RqYWw5cVJPawotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K\n    certSANs:\n        - 127.0.0.1\n        - 192.168.254.250\n    kubelet:\n        image: ghcr.io/siderolabs/kubelet:${KUBERNETES_VERSION}\n        extraArgs:\n            rotate-server-certificates: \"true\"\n        extraConfig:\n            maxPods: 150\n        extraMounts:\n            - destination: /var/openebs/local\n              type: bind\n              source: /var/openebs/local\n              options:\n                - bind\n                - rshared\n                - rw\n        defaultRuntimeSeccompProfileEnabled: true\n        nodeIP:\n            validSubnets:\n                - 192.168.254.0/24\n        disableManifestsDirectory: true\n    network:\n        hostname: k8s-m02\n        interfaces:\n            - interface: bond0\n              bond:\n                mode: active-backup\n                deviceSelectors:\n                    - hardwareAddr: 48:21:0b:59:*\n                      driver: igc\n              dhcp: false\n              addresses:\n                - 192.168.254.82/24\n              routes:\n                - network: 0.0.0.0/0\n                  gateway: 192.168.254.1\n              vip:\n                ip: 192.168.254.250\n              vlans:\n                - vlanId: 150\n                  mtu: 1500\n                  dhcp: false\n                  addresses:\n                    - 192.168.150.82/24\n            - deviceSelector:\n                # k8s-m01\n                busPath: 0-1.0\n              dhcp: false\n              mtu: 65520\n              addresses:\n                - 169.254.255.102/32\n              routes:\n                - network: 169.254.255.101/32\n                  metric: 2048\n            - deviceSelector:\n                # k8s-m03\n                busPath: 1-1.0\n              dhcp: false\n              mtu: 65520\n              addresses:\n                - 169.254.255.102/32\n              routes:\n                - network: 169.254.255.103/32\n                  metric: 2048\n        disableSearchDomain: true\n        nameservers:\n            - 192.168.254.1\n    install:\n        diskSelector:\n            model: TS512GMTS430S\n        extraKernelArgs:\n            - intel_iommu=on\n            - iommu=pt\n            - mitigations=off\n            - pcie_ports=native\n        image: factory.talos.dev/installer/de3b865124c5616da8084826167f8c0b0fbc9b905b146290db797024e84097fc:${TALOS_VERSION}\n        # siderolabs/i915-ucode\n        # siderolabs/intel-ucode\n        # siderolabs/mei\n        # siderolabs/thunderbolt\n        wipe: false\n    files:\n        - op: create\n          path: /etc/cri/conf.d/20-customization.part\n          content: |\n            [plugins.\"io.containerd.grpc.v1.cri\"]\n              enable_unprivileged_ports = true\n              enable_unprivileged_icmp = true\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd]\n              discard_unpacked_layers = false\n            [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc]\n              discard_unpacked_layers = false\n        - op: overwrite\n          path: /etc/nfsmount.conf\n          permissions: 420\n          content: |\n            [ NFSMount_Global_Options ]\n            nfsvers=4.2\n            hard=True\n            nconnect=16\n            noatime=True\n    time:\n        disabled: false\n        servers:\n            - time.cloudflare.com\n    sysctls:\n        fs.inotify.max_user_instances: 8192\n        fs.inotify.max_user_watches: 1048576\n        net.core.rmem_max: 67108864\n        net.core.wmem_max: 67108864\n        vm.nr_hugepages: 1024\n    sysfs:\n        devices.system.cpu.intel_pstate.hwp_dynamic_boost: 1\n        devices.system.cpu.cpu0.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu1.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu2.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu3.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu4.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu5.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu6.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu7.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu8.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu9.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu10.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu11.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu12.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu13.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu14.cpufreq.energy_performance_preference: balance_performance\n        devices.system.cpu.cpu15.cpufreq.energy_performance_preference: balance_performance\n    features:\n        rbac: true\n        stableHostname: true\n        kubernetesTalosAPIAccess:\n            enabled: true\n            allowedRoles:\n                - os:admin\n            allowedKubernetesNamespaces:\n                - system\n        apidCheckExtKeyUsage: true\n        diskQuotaSupport: true\n        kubePrism:\n            enabled: true\n            port: 7445\n        hostDNS:\n            enabled: true\n            resolveMemberNames: true\n            forwardKubeDNSToHost: false\n    udev:\n        rules:\n            # Thunderbolt\n            - ACTION==\"add\", SUBSYSTEM==\"thunderbolt\", ATTR{authorized}==\"0\", ATTR{authorized}=\"1\"\n            # Intel GPU\n            - SUBSYSTEM==\"drm\", KERNEL==\"renderD*\", GROUP=\"44\", MODE=\"0660\"\n            # SONOFF Zigbee 3.0 USB Dongle Plus V2\n            - SUBSYSTEMS==\"usb\", ATTRS{idVendor}==\"1a86\", ATTRS{idProduct}==\"55d4\", GROUP=\"20\", MODE=\"0660\"\n    kernel:\n        modules:\n            - name: thunderbolt\n            - name: thunderbolt_net\n    nodeLabels:\n        topology.kubernetes.io/region: main\n        topology.kubernetes.io/zone: m\ncluster:\n    id: _d4K4YvV7f9rCLo_Khtsfo1jmGKsh5kmshwqpyeoaFw=\n    secret: 5Br8JvpYWOhEGPb5qr80PTWvBUUln+6J6s4Yl8Hp3nw=\n    controlPlane:\n        endpoint: https://192.168.254.250:6443\n    clusterName: main\n    network:\n        cni:\n            name: none\n        dnsDomain: cluster.local\n        podSubnets:\n            - 10.42.0.0/16\n        serviceSubnets:\n            - 10.43.0.0/16\n    coreDNS:\n        disabled: true\n    token: rnusvv.f5bsbgtv7eul66j5\n    secretboxEncryptionSecret: Saov2YTVvJ+qm9DRwGPVUC2d8bkxj6jLYoND+FgKLbQ=\n    ca:\n        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpRENDQVMrZ0F3SUJBZ0lRV2YwM1JCTWFabnJJcmpLRUZFTGEyekFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTBNRFF5TVRFeE1ERXhOVm9YRFRNME1EUXhPVEV4TURFeApOVm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCTXhUZXZRWUNkN25vak10N1M3aUI3cmJyaGVrK3FYNHVZcUkyMzIwbjNTeHVVVk1nN0JvS3ZNVVRma2cKbEhVL3JlVWFwMnVUYmk4ZFUya3dISlpBSGRTallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVUampkREdxTmhGdG5ScytUS3NsUzFPd3gwWU13Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnUHBDdEQ1czgKbUcwd2xJbmVwUk5iZWNBZFdCL0FYWHRMSTN3L0FHMGZiYU1DSUhLVTA0a3FBTEZVWEdFWTNRbkpKNFp3YnUxUwowV3pQKzN5VUk2Y3NFVTFYCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU1taGFaL1g4S0NMcll0NnhtNVhwM3YwUHV0RXN3WmRqaWh6RFRmUUo1U2xvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFekZONjlCZ0ozdWVpTXkzdEx1SUh1dHV1RjZUNnBmaTVpb2piZmJTZmRMRzVSVXlEc0dncQo4eFJOK1NDVWRUK3Q1UnFuYTVOdUx4MVRhVEFjbGtBZDFBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n    aggregatorCA:\n        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYakNDQVFXZ0F3SUJBZ0lRRm5uRXdjVDdaQkgwaDk4SlNqTHQvekFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1EUXlNVEV4TURFeE5Wb1hEVE0wTURReE9URXhNREV4TlZvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCQVJ4em5Hc1p4SU5IYTIyZTBzKzFHR3BGeVNXQ2R6SzlvaS9vWTRia2JNYjhIY2NqcWZQCi9rbXg4T1Z3WEhEbmxSY1h2clhvZDFRMUJqOE1hL1dUUGYyallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVU0Ujd6RExzVzgwVjd6TTNDcFJhaDhJSzUzVTR3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnClM0c3lLVjRraE5rcmlZMXJySCtqV0dPOEZBSXh2TjZGRTdlYmEwMzdZblVDSUZGR2VuQ2h6L0F3KzhRNXJ5angKWnlnOFRodElsWU1JeUhnejhCQ2RqdkQ4Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUt5dGUwdEdHNVFSeHFaRm1xWDBhL2NueXI0SC80ZUVzL0d2bU9JVFJoT2hvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFQkhIT2NheG5FZzBkcmJaN1N6N1VZYWtYSkpZSjNNcjJpTCtoamh1UnN4dndkeHlPcDgvKwpTYkh3NVhCY2NPZVZGeGUrdGVoM1ZEVUdQd3hyOVpNOS9RPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n    serviceAccount:\n        key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSVBpeitrbURqV0NZZzhsVWljSm5oVUVUVEVqQ201NlAzK3FsR1ErNWptRGlvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFS2g0ZWZBNXNFb3ZXOUlwTllacXU0L204NGNvTUdlVGxCSzNDQVhoS1grbUJwS2VDUTJlSApOanZReUs5Vk1GZ2lEVUhqRFBFbEl2bjBJN2JnV2ZXNTFRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n    apiServer:\n        image: registry.k8s.io/kube-apiserver:${KUBERNETES_VERSION}\n        certSANs:\n            - 127.0.0.1\n            - 192.168.254.250\n        disablePodSecurityPolicy: true\n        auditPolicy:\n            apiVersion: audit.k8s.io/v1\n            kind: Policy\n            rules:\n                - level: Metadata\n    controllerManager:\n        image: registry.k8s.io/kube-controller-manager:${KUBERNETES_VERSION}\n        extraArgs:\n            bind-address: 0.0.0.0\n    proxy:\n        disabled: true\n        image: registry.k8s.io/kube-proxy:${KUBERNETES_VERSION}\n    scheduler:\n        image: registry.k8s.io/kube-scheduler:${KUBERNETES_VERSION}\n        extraArgs:\n            bind-address: 0.0.0.0\n        config:\n            apiVersion: kubescheduler.config.k8s.io/v1\n            kind: KubeSchedulerConfiguration\n            profiles:\n                - schedulerName: default-scheduler\n                  pluginConfig:\n                    - name: PodTopologySpread\n                      args:\n                        defaultingType: List\n                        defaultConstraints:\n                            - maxSkew: 1\n                              topologyKey: kubernetes.io/hostname\n                              whenUnsatisfiable: ScheduleAnyway\n    discovery:\n        enabled: true\n        registries:\n            kubernetes:\n                disabled: false\n            service:\n                disabled: true\n    etcd:\n        ca:\n            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmekNDQVNTZ0F3SUJBZ0lSQUtvNXM4QzB3QkZRaFpET29yYXpzM0F3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TkRBME1qRXhNVEF4TVRWYUZ3MHpOREEwTVRreE1UQXhNVFZhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRWXBYV2JYQURwCnh4alZ4M3NvMHRlVzdPNnFGRXg2bGxWL1grZzltN2RFblhYV3BUQzB1VC8va3ZRc2NUNWpWb2t5UHlUa05EeWsKQU1kR3JIWUFUcXVObzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkUwZmZWU21kU2RXCjU5QlpJWllwYnRhVFRQa2RNQW9HQ0NxR1NNNDlCQU1DQTBrQU1FWUNJUUNQaXM5Tkg2MEF1eHhsamZxM1NyMmgKTGwzeHdQOVp2RFlpNDN5T2NHbWd3d0loQU8rUnMvYVZkc05NaUV3cjJFMDdVRWI4ckdrS2Voc2c2cXhDdHZELwpYR1JNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n            key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUh3Y2IrT2JSZEE5QUFFc2E3b3Y3Nys5OFRnelhoMmt3WFNjVTFBU1l5bDRvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFR0tWMW0xd0E2Y2NZMWNkN0tOTFhsdXp1cWhSTWVwWlZmMS9vUFp1M1JKMTExcVV3dExrLwovNUwwTEhFK1kxYUpNajhrNURROHBBREhScXgyQUU2cmpRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=\n        extraArgs:\n            listen-metrics-urls: http://0.0.0.0:2381\n        advertisedSubnets:\n            - 192.168.254.0/24\n    allowSchedulingOnMasters: true\n\n",
	"sops": {
		"kms": null,
		"gcp_kms": null,
		"azure_kv": null,
		"hc_vault": null,
		"age": [
			{
				"recipient": "age12j7f9ytucevfgfazw9h9rlaprtkv90kzunjkrsx90zsllnfhqemqhv6nrj",
				"enc": "-----BEGIN AGE ENCRYPTED FILE-----\nYWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBUQ1VVOUE4RFBUWVVTNkhJ\nYVV0QXNyc1NrY1pXTGZWaTRJZ1gyVVlyQ2prCktWS0NuNk82RWljME9FT2RHL3Bi\ncHZNbms2QzhvQlc3TEY5a3Q5ZTlNWVEKLS0tIDNmWWVSdWV2dXlkUFlhSXpsNEV0\nWEJDM05UdEVyTUZBMWtQbVpjZkM5RkkKups8Qo1Qbe3REs+N1jZzkjG7UZihEzsg\n0l5rRuBQZfoR4WDbsCAdZ5cps6XVNNvnSzb10gSR8Kb1DZQaY3grKQ==\n-----END AGE ENCRYPTED FILE-----\n"
			}
		],
		"lastmodified": "2024-12-07T10:23:06Z",
		"mac": "ENC[AES256_GCM,data:H+2KeE7w3tuJw9UwPRoR/l+NL3wIZkAH5fZ/bwpkSfVJBljiHcfG9AechoL83fGPp77B/mlbpvFqWy4HhNHrXpdYt+bEZfasC7Ctpf7sovomxde+/8jOnqmm5pB67HI4aNWtWFAUtC5mkjiZtvf58aG+lO6el3EhkJqGGCd5h/Q=,iv:Y0sNUMjlaW99uZKukcT+KiJCRBfwc9l9IefS9vreLow=,tag:gGztCMCOQvb3r8XnoQjGVw==,type:str]",
		"pgp": null,
		"encrypted_regex": "^(token|crt|key|id|secret|secretboxEncryptionSecret|ca)$",
		"mac_only_encrypted": true,
		"version": "3.9.2"
	}
}